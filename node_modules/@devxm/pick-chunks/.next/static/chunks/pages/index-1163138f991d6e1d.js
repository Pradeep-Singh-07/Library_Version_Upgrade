(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2937)}])},2176:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(5893),a=n(7294),i=n(1163),o=n(1120),c=n(1082),l=n(7821),s=n(1423),u=n(4776),d=n(2352),h=n(5432),f=n(6083),p=n(3579),m=n(9525),x=n(7212),v=n(2753),b=n(9659),g=n(2318),y=function(e){var t=e.className;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"640",height:"640",viewBox:"0 0 640 640",className:t,children:[(0,r.jsx)("path",{fill:"#f5b240",d:"M598.18 0c21.32 0 38.6 17.28 38.6 38.6v562.8c0 21.32-17.28 38.6-38.6 38.6H38.6C17.28 640 0 622.72 0 601.4V38.6C0 17.28 17.28 0 38.6 0h559.58z",id:"bt9OEGOU"}),(0,r.jsxs)("g",{fill:"#121212",transform:"translate(0.000000,640.000000) scale(0.100000,-0.100000)",stroke:"none",children:[(0,r.jsx)("path",{d:"M4253 4656 c-379 -73 -643 -334 -763 -753 -58 -203 -62 -240 -67 -617 -7 -448 7 -583 82 -816 103 -321 315 -560 583 -657 108 -39 198 -54 332 -55 257 -1 468 71 639 218 150 129 302 428 323 634 l3 35 -179 0 -179 0 -27 -111 c-78 -317 -274 -483 -571 -484 -80 0 -204 27 -261 56 -187 97 -301 291 -360 614 -19 103 -21 153 -22 485 0 259 3 394 13 450 42 262 117 442 229 554 113 112 235 161 402 161 307 0 517 -197 581 -544 l12 -66 183 0 182 0 -5 43 c-10 80 -52 227 -89 315 -115 270 -318 448 -593 519 -120 31 -337 40 -448 19z"}),(0,r.jsx)("path",{d:"M1190 3210 l0 -1420 180 0 180 0 0 570 0 570 318 0 c327 0 400 6 537 40 111 28 285 117 367 187 206 176 307 452 269 738 -44 330 -252 571 -586 679 -157 51 -227 56 -767 56 l-498 0 0 -1420z m1125 1087 c190 -66 315 -201 354 -385 16 -75 14 -217 -4 -287 -50 -195 -199 -332 -412 -379 -58 -13 -135 -16 -387 -16 l-316 0 0 551 0 550 343 -3 342 -3 80 -28z"})]})]})},j=(0,o.Z)((function(e){return{drawer:{color:"red",width:"60px",height:"100vh",backgroundColor:"#3f3f3f"},page:{width:"calc(100vw - 60px)"},tab:{minWidth:"60px !important",width:"60px",height:"60px"},logo:{flex:"0 0 auto",height:30,width:30,marginRight:e.spacing(2)},bottomTab:{position:"absolute !important",bottom:0},tabs:{height:"100%"}}})),k={"/":"Selector","/dashboard":"Collections"},Z=function(e){var t=e.children,n=j(),o=(0,i.useRouter)(),Z=o.pathname,C=(0,a.useState)(!1),w=C[0],S=C[1],N=function(e){var t=(0,a.useRef)(!0),n=(0,a.useState)({data:null,loading:!0}),r=n[0],i=n[1];return(0,a.useEffect)((function(){return i((function(e){return{data:e.data,loading:!0}})),fetch(e).then((function(e){return e.json()})).then((function(e){t.current&&i({data:e,loading:!1})})).catch((function(e){return console.log(e)})),function(){t.current=!1}}),[e]),r}("/version"),O=N.data,P=N.loading;return(0,r.jsxs)(c.Z,{display:"flex",flexDirection:"row",children:[(0,r.jsx)("div",{className:n.drawer,children:(0,r.jsxs)(l.Z,{value:Z,onChange:function(e,t){Object.keys(k).includes(t)?t!==Z&&o.push(t):"/about"===t&&S(!0)},orientation:"vertical",indicatorColor:"primary",textColor:"primary",className:n.tabs,children:[(0,r.jsx)(s.Z,{value:"/",classes:{root:n.tab},icon:(0,r.jsx)(u.Z,{fontSize:"large"})}),(0,r.jsx)(s.Z,{value:"/dashboard",classes:{root:n.tab},icon:(0,r.jsx)(d.Z,{fontSize:"large"})}),(0,r.jsx)(s.Z,{value:"/about",className:n.bottomTab,classes:{root:n.tab},icon:(0,r.jsx)(h.Z,{fontSize:"large"})})]})}),(0,r.jsxs)("div",{className:n.page,children:[(0,r.jsxs)(c.Z,{display:"flex",flexDirection:"row",flex:"0 0 auto",justifyContent:"flex-start",alignItems:"center",px:5,py:2,children:[(0,r.jsx)(y,{className:n.logo}),(0,r.jsx)(g.Z,{variant:"h6",color:"textPrimary",children:"Pick Chunks"}),(0,r.jsx)(v.Z,{}),(0,r.jsx)(g.Z,{varient:"subtitle1",color:"textSecondary",children:k[Z]})]}),(0,r.jsx)("div",{children:t})]}),(0,r.jsxs)(p.Z,{fullWidth:!0,open:w,onClose:function(){S(!1)},children:[(0,r.jsx)(f.Z,{children:"Pick Chunks"}),(0,r.jsxs)(m.Z,{children:[(0,r.jsxs)(x.Z,{children:["Version: ",P?"...":O.version]}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(b.Z,{href:"https://github.com/chicho17/pick-chunks",target:"_blank",children:"Github Respository"})})]})]})]})}},2937:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ye}});var r=n(4051),a=n.n(r),i=n(5893),o=n(7294),c=n(2387),l=n(7812),s=n(3973),u=n(1559),d=n(2318),h=n(8365),f=n(1082),p=n(1120),m=n(2822),x=n(998),v=n(5757),b=n(3146),g=n(4580),y=n(1514);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=[];function w(e){var t=e.entryFile,n=e.onEntryFileChange,r=e.className,a=e.allFiles,c=(0,o.useState)((null===t||void 0===t?void 0:t.filepath)||""),l=c[0],s=c[1],u=Z(o.useState(!1),2),d=u[0],h=u[1],p=(0,y.D)();return(0,i.jsx)(f.Z,{className:r,display:"flex",alignItems:"flex-end",mb:2,children:(0,i.jsx)(g.ZP,{style:{width:"100%"},value:t,options:a||C,open:d,onOpen:function(){h(!0)},onClose:function(){h(!1)},inputValue:l,onChange:function(e,t){n(t)},onInputChange:function(e,t){s(t)},filterOptions:function(e,t){return p(e,t).slice(0,100)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e===t},renderInput:function(e){return(0,i.jsx)(b.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}({},e,{variant:"outlined",label:"Pick Entry"}))}})})}var S=n(1314),N=n(9414),O=n(5675),P=n.n(O),D=n(6611),E=n(3739),I=n(4181),A=n(553),T=n(9659),R=n(7885),z=n(5625),F=n(6735),_=n(3950),M=n(2285),W=n(3173),H=n(5308),B=n(6204),U=n(3375),V=n(868),L=n(2149),K=n(8767),$=n(3579),G=n(6856),J=n(9525),Q=n(6083),X=n(282);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){var t=e.isDialog,n=e.setIsDialog,r=e.selectedChunks,a=e.snackBarMessage,c=e.setSnackbarVisibility,l=(0,o.useState)(""),s=l[0],u=l[1],d=(0,o.useState)(),h=d[0],f=d[1];return(0,i.jsxs)($.Z,{fullWidth:!0,open:t,onClose:function(){n(!1)},children:[(0,i.jsx)(Q.Z,{children:"Save Collection"}),(0,i.jsxs)(J.Z,{children:[(0,i.jsx)(b.Z,{label:"Name",value:h,onChange:function(e){return f(e.target.value)},variant:"outlined",fullWidth:!0,required:!0,margin:"normal"}),(0,i.jsx)(b.Z,{label:"Description",variant:"outlined",fullWidth:!0,value:s,onChange:function(e){return u(e.target.value)},margin:"normal"})]}),(0,i.jsx)(G.Z,{children:(0,i.jsx)(X.Z,{onClick:function(e){if(e.preventDefault(),h){var t,i={name:h,description:s,chunks:Y(r)};fetch("/api/collection/add",(t=i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).then((function(){a.current="Collection saved !",c(!0),n(!1)})).catch((function(e){a.current="Unable to save the collection !",c(!0)}))}},disabled:!h,color:"primary",children:"Save"})})]})}var te=[".js",".ts",".tsx","/index.js","/index.ts","/index.tsx"];function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t,n,r,a,i,o){try{var c=e[i](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,a)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}var le=function(e){return e.filter((function(e){return!te.some((function(t){return e.endsWith(t)}))}))},se=(0,p.Z)((function(e){return{rootContainer:{cursor:function(e){return e.disabled?"not-allowed":"default"}},container:{pointerEvents:function(e){return e.disabled?"none":"all"}},listRoot:{backgroundColor:e.palette.background.paper,flex:"0 0 35%",overflow:"auto",minHeight:0},selectedChunks:{"& > *":{margin:e.spacing(.5)}},chipRoot:e.typography.subtitle1}}));function ue(e){return(0,i.jsx)(M.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ae(e,t,n[t])}))}return e}({},e,{direction:"left"}))}var de=function(e){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},he=function(e){var t,n=e.entryFile,r=e.className,c=se(),s=(0,o.useState)(!1),u=s[0],h=s[1],p=(0,o.useCallback)((function(e){return new Promise((function(t,n){fetch("api/chunks",de({path:e,getDescendant:!0,skipImportWithoutChunkName:u})).then((function(e){return e.json()})).then((function(e){var n=e.chunks.map((function(e){return e.chunkName}));t(n)})).catch((function(e){return n(e)}))}))}),[u]),m=(0,o.useState)([{filepath:null===n||void 0===n?void 0:n.filepath,chunkName:null===n||void 0===n?void 0:n.name}]),g=m[0],y=m[1];(0,o.useEffect)((function(){y([{filepath:null===n||void 0===n?void 0:n.filepath,chunkName:null===n||void 0===n?void 0:n.name}]),Q("")}),[n]);var j=(0,o.useCallback)((function(e){e.preventDefault();var t=+e.currentTarget.dataset.index;y((function(e){return oe(e.slice(0,t+1))}))}),[]),k=function(){var e,t=(e=a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,fetch("api/chunks",de({path:t,getDescendant:!1,skipImportWithoutChunkName:u}));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,i=r.chunks,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){re(i,r,a,o,c,"next",e)}function c(e){re(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Z=(0,K.useQuery)("getChunks"+g[g.length-1].filepath+(u?"-skip":""),(function(){return k(g[g.length-1].filepath)})),C=Z.isLoading,w=Z.data,O=(0,o.useState)(!1),M=O[0],$=O[1],G=(0,o.useState)(""),J=G[0],Q=G[1],X=(0,o.useState)(new Set),q=X[0],Y=X[1],te=(0,o.useState)(!1),ne=te[0],ae=te[1],ce=(0,o.useMemo)((function(){return new D.Z(w,["chunkName"])}),[w]),he=(0,o.useMemo)((function(){return J?ce.search(J):w}),[ce,J,w]),fe=(0,o.useRef)(he),pe=(0,o.useRef)(q),me=(0,o.useRef)(M);fe.current=he,pe.current=q,me.current=M;var xe=(0,o.useCallback)((function(){h((function(e){return!e}))}),[]),ve=(0,o.useCallback)((function(e){var t=e.currentTarget.dataset,n=t.filepath,r=t.chunkName;y((function(e){return e.concat({filepath:n,chunkName:r})})),Q("")}),[]),be=(0,o.useCallback)((function(e){var t=e.currentTarget.closest('[data-container="chunk"]').dataset.chunkName;Y((function(e){return e.delete(t),new Set(oe(e))}))}),[]),ge=(0,o.useCallback)((function(e){Y((function(t){return new Set(oe(t).concat([e]))}))}),[]),ye=(0,o.useCallback)((function(e,t){var n=new Set(oe(pe.current));$(!0),p(t).then((function(t){oe(t).concat([e]).forEach((function(e){n.add(e)})),Y(n),$(!1)}))}),[p]),je=(0,o.useCallback)((function(e){Y((function(t){return t.delete(e),new Set(oe(t))}))}),[]),ke=(0,o.useCallback)((function(e,t){var n=new Set(oe(pe.current));$(!0),p(t).then((function(t){oe(t).concat([e]).forEach((function(e){n.delete(e)})),Y(n),$(!1)}))}),[p]),Ze=(0,o.useCallback)((function(e){var t=e.currentTarget.dataset,n=t.filepath,r=t.chunkName,a="1"===t.checked;switch(e.key){case"s":return a?void 0:ge(r);case"x":return a?je(r):void 0;case"p":return ye(r,n);case"d":return a?ke(r,n):void 0;default:return}}),[ge,je,ye,ke]),Ce=(0,o.useCallback)((function(e){e.stopPropagation();var t=e.currentTarget.dataset,n=t.filepath,r=t.chunkName;return"0"===t.checked?e.metaKey?ye(r,n):ge(r):e.metaKey?ke(r,n):je(r)}),[ge,ye,je,ke]),we=(0,o.useCallback)((function(){Y(new Set)}),[Y]),Se=(0,o.useState)(!1),Ne=Se[0],Oe=Se[1],Pe=(0,o.useRef)(""),De=(0,o.useCallback)((function(){return Oe(!1)}),[]),Ee=(0,o.useCallback)((function(){var e=le(oe(q));Pe.current="".concat(e.length," chunks copied"),navigator.clipboard.writeText(e.join()).then((function(){return Oe(!0)}))}),[q]),Ie=(0,o.useMemo)((function(){return u?le(oe(q)):oe(q)}),[u,q]),Ae=(0,o.useCallback)((function(){var e;Pe.current="".concat(Ie.length," chunks copied"),null===(e=navigator.clipboard)||void 0===e||e.writeText(oe(Ie).join()).then((function(){return Oe(!0)}))}),[Ie]),Te=(0,o.useRef)(ve),Re=(0,o.useRef)(Ze),ze=(0,o.useRef)(Ce);Te.current=ve,Re.current=Ze,ze.current=Ce;var Fe=(0,o.useCallback)((function(e){var t=e.index,n=e.style;if(!fe.current[t])return null;var r=fe.current[t],a=r.filepath,o=r.chunkName;return(0,i.jsx)(E.E.div,{animate:{y:n.top},initial:{y:n.top-56},style:{top:0,position:"absolute",width:"100%"},children:(0,i.jsxs)(x.Z,{button:!0,"data-checked":pe.current.has(o)?"1":"0","data-chunk-name":o,"data-filepath":a,onClick:Te.current,disabled:me.current,onKeyDown:Re.current,"data-container":"list-item",children:[(0,i.jsx)(z.Z,{tabIndex:-1,edge:"start",inputProps:{"aria-labelledby":o,"data-checked":pe.current.has(o)?"1":"0","data-chunk-name":o,"data-filepath":a,onClick:ze.current},checked:pe.current.has(o)}),(0,i.jsx)(v.Z,{primary:o}),(0,i.jsx)(F.Z,{edge:"end"})]})},o)}),[]),_e=ie((0,N.Z)(),2),Me=_e[0],We=_e[1],He=We.height,Be=We.width,Ue=ie((0,N.Z)(),2),Ve=Ue[0],Le=Ue[1].width,Ke=(0,o.useMemo)((function(){return{}}),[q,M,he]),$e=(0,o.useState)(!1),Ge=$e[0],Je=$e[1];return(0,o.useEffect)((function(){Je(null!=w&&w.length>0)}),[w]),(null===(t=g[g.length-1])||void 0===t?void 0:t.filepath)||q.size?(0,i.jsxs)(f.Z,{mt:2,className:r,display:"flex",flexDirection:"column",children:[(0,i.jsx)(A.Z,{style:{marginBottom:"12px",width:"fit-content"},control:(0,i.jsx)(z.Z,{checked:u,onChange:xe}),label:"Skip Unnamed Chunks"}),(0,i.jsx)(f.Z,{display:"flex",flex:"1",minHeight:0,className:c.rootContainer,disabled:M,children:(0,i.jsxs)(f.Z,{flex:"1",minHeight:0,display:"flex",flexDirection:"column",className:c.container,disabled:M,children:[(0,i.jsxs)(R.Z,{"aria-label":"breadcrumb",flex:"0 0 auto",style:{marginBottom:"8px"},children:[g.slice(0,g.length-1).map((function(e,t){var r=e.filepath,a=e.chunkName;return(0,i.jsx)(T.Z,{color:"secondary",href:"","data-filepath":r,"data-chunk-name":a,onClick:j,"data-index":t,children:a!==(null===n||void 0===n?void 0:n.name)?(0,i.jsx)(d.Z,{variant:"subtitle1",color:"secondary",children:a}):(0,i.jsx)(L.Z,{})},r)})),(0,i.jsx)(d.Z,{variant:"subtitle1",color:"textPrimary",children:g[g.length-1].chunkName!==(null===n||void 0===n?void 0:n.name)?(0,i.jsx)(d.Z,{variant:"subtitle1",children:g[g.length-1].chunkName}):(0,i.jsx)(L.Z,{})})]}),(0,i.jsxs)(f.Z,{display:"flex",alignItems:"flex-end",children:[(0,i.jsx)(b.Z,{variant:"outlined",flex:"0 0 auto",style:{marginBottom:"20px",width:"35%"},label:"Search Chunks",disabled:!Ge,value:J,onChange:function(e){return Q(e.target.value)}}),(0,i.jsxs)(f.Z,{ml:"auto",children:[u?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(V.ZP,{title:"Copy Named chunks",placement:"top",children:(0,i.jsx)(l.Z,{disabled:!Ie.length,onClick:Ee,"aria-label":"copy without files",children:(0,i.jsx)(I.Z,{})})})}),(0,i.jsx)(V.ZP,{title:"Copy Selected Chunks",placement:"top",children:(0,i.jsx)(l.Z,{disabled:!Ie.length,onClick:Ae,"aria-label":"copy",children:(0,i.jsx)(W.Z,{})})}),(0,i.jsx)(V.ZP,{title:"Delete Selected Chunks",placement:"top",children:(0,i.jsx)(l.Z,{disabled:!Ie.length,onClick:we,"aria-label":"deselect all",children:(0,i.jsx)(H.Z,{})})}),(0,i.jsx)(V.ZP,{title:"Save Selected Chunks",placement:"top",children:(0,i.jsx)(l.Z,{disabled:!Ie.length,onClick:function(){ae(!0)},"aria-label":"save collection",children:(0,i.jsx)(U.Z,{})})})]})]}),(0,i.jsxs)(f.Z,{mt:1,ref:Me,display:"flex",flex:"1",minHeight:"40vh","data-boo":"1",width:"100%",maxWidth:"100%",children:[(0,i.jsx)("div",{className:c.listRoot,style:{height:He,width:Be-Le},children:Ge?(0,i.jsx)(S.t7,{height:He,width:Be-Le,itemSize:58,itemCount:(null===he||void 0===he?void 0:he.length)||0,data:Ke,children:Fe}):(0,i.jsx)(f.Z,{height:"100%",width:Be-Le,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",children:C?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P(),{src:"/loading.svg",height:200,width:200,alt:"loading"}),(0,i.jsx)(d.Z,{children:"Loading..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P(),{src:"/empty.svg",height:200,width:200,alt:"no chunks"}),(0,i.jsx)(d.Z,{children:"No Chunks found!"})]})})}),(0,i.jsx)(f.Z,{ref:Ve,flex:"1",children:(0,i.jsx)(f.Z,{ref:Ve,className:c.selectedChunks,justifyContent:"center",flexWrap:"wrap",borderRadius:"borderRadius",borderColor:"text.primary",border:1,mx:2,p:4,height:"100%",position:"sticky",top:"0",overflow:"auto",children:Ie.map((function(e){return(0,i.jsx)(E.E.div,{style:{display:"inline-block"},animate:{scale:1},initial:{scale:.5},children:(0,i.jsx)(B.Z,{label:e,classes:{root:c.chipRoot},onDelete:be,variant:"outlined","data-chunk-name":e,"data-chip":"1","data-container":"chunk"})},e)}))})})]})]})}),(0,i.jsx)(_.Z,{open:Ne,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:2e3,onClose:De,TransitionComponent:ue,message:Pe.current}),(0,i.jsx)(ee,{isDialog:ne,setIsDialog:ae,selectedChunks:Ie,snackBarMessage:Pe,setSnackbarVisibility:Oe})]}):(0,i.jsx)(i.Fragment,{})},fe=n(2176),pe=n(1749);function me(e,t,n,r,a,i,o){try{var c=e[i](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){me(i,r,a,o,c,"next",e)}function c(e){me(i,r,a,o,c,"throw",e)}o(void 0)}))}}var ve=(0,p.Z)((function(e){return{flexNone:{flex:"0 0 auto"},flex1:{flex:"1",minHeight:"0"},shortcutIcon:{flex:"0 0 auto",position:"absolute",top:e.spacing(1),right:e.spacing(2)},popover:{width:"350px",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},shortcutCmd:{width:"100px",flex:"0 0 auto",fontWeight:700},mainContent:{display:"flex",flexDirection:"column",height:"100%"}}})),be=[{cmd:"Click",desc:"Select/Deselect"},{cmd:"\u2318 + Click",desc:"Select/Deselect Subgraph"}],ge=[{cmd:"s",desc:"Select"},{cmd:"p",desc:"Select Subgraph"},{cmd:"x",desc:"Deselect"},{cmd:"d",desc:"Deselect Subgraph"}];var ye=function(){var e=ve(),t=(0,o.useRef)(null),n=(0,o.useState)(!1),r=n[0],p=n[1],b=(0,o.useCallback)((function(){p(!0)}),[]),g=(0,o.useCallback)((function(){p(!1)}),[]),y=(0,o.useState)({filepath:"",name:""}),j=y[0],k=y[1],Z=(0,o.useState)(!0),C=Z[0],S=Z[1],N=function(){var e=xe(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/files");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent)){e.next=10;break}return r=[],n.files.forEach((function(e){var t,a,i,o=(a=e,i=null===(t=n)||void 0===t?void 0:t.directory,a.substring(i.length+1));r.push({filepath:e,name:o})})),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(0,K.useQuery)("/api/files",N).data;(0,o.useEffect)((function(){O&&(k(O[0]),S(!1))}),[O]);var P=(0,o.useState)(!1),D=P[0],E=P[1],I=function(){var e=xe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,fetch("/api/refresh");case 3:E(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(f.Z,{children:(0,i.jsx)(fe.Z,{children:(0,i.jsxs)(f.Z,{className:e.mainContent,p:5,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{onClick:b,ref:t,"aria-label":"shortcuts",className:e.shortcutIcon,children:(0,i.jsx)(s.Z,{fontSize:"large"})}),(0,i.jsx)(c.ZP,{id:"shortcuts",open:r,anchorEl:t.current,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsxs)(m.Z,{component:"nav",className:e.popover,"aria-label":"shortcuts popover",children:[be.map((function(t,n){var r=t.cmd,a=t.desc;return(0,i.jsx)(x.Z,{divider:n===be.length-1,children:(0,i.jsxs)(f.Z,{display:"flex",alignItems:"center",flex:"1",children:[(0,i.jsx)(v.Z,{className:e.shortcutCmd,children:(0,i.jsx)(d.Z,{color:"secondary",children:(0,i.jsx)(f.Z,{component:"span",children:r})})}),(0,i.jsx)(v.Z,{primary:a})]})},r)})),ge.map((function(t,n){var r=t.cmd,a=t.desc;return(0,i.jsx)(x.Z,{children:(0,i.jsxs)(f.Z,{display:"flex",alignItems:"center",flex:"1",children:[(0,i.jsx)(v.Z,{className:e.shortcutCmd,children:(0,i.jsx)(d.Z,{color:"secondary",children:r})}),(0,i.jsx)(v.Z,{primary:a})]})},r)}))]})})]}),C?(0,i.jsx)(d.Z,{component:"div",variant:"h4",children:(0,i.jsx)(h.Z,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(pe.Z,{container:!0,spacing:2,children:[(0,i.jsx)(pe.Z,{item:!0,xs:!0,children:(0,i.jsx)(w,{className:e.flexNone,entryFile:j,onEntryFileChange:k,allFiles:O})}),(0,i.jsx)(pe.Z,{item:!0,xs:1,children:(0,i.jsx)(l.Z,{onClick:I,disabled:D,children:(0,i.jsx)(u.Z,{})})})]}),(0,i.jsx)(he,{className:e.flex1,entryFile:j})]})]})})})}}},function(e){e.O(0,[71,129,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);