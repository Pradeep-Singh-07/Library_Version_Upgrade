# Class: default

The Cobrowse Agent SDK provides a way to interact with the Cobrowse APIs for a variety of use cases.
Primarily this library is designed for building a fully white-labeled version of Cobrowse, including
custom user interfaces and styling to match your own platform.

The library can be used either from the browser (most common), or a NodeJS environment. Note: not all APIs are
available when used in NodeJS.

## Hierarchy

- `EventEmitter`

  ↳ **`default`**

## Constructors

### <a id="constructor" name="constructor"></a> constructor

• **new default**(`token?`, `options?`)

Create a new Agent SDK instance. An instance encapsulates information about your API location (if
using the self-hosted Cobrowse Enterprise option), and optionally, the authorization token for the
agent using the SDK.

**Options**

`api` - The url for an Enterprise Cobrowse instance. You do not need to configure this when using our global hosted service.

```javascript
const token = await myJWTGeneratingFunction()
const cobrowse = new CobrowseAPI(token, { api: 'https://cobrowse.example.com' })
```

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `token?` | `string` | The [JWT](https://docs.cobrowse.io/agent-side-integrations/json-web-tokens-jwts) for API authorization. |
| `options?` | `Record`<`string`, `any`\> | Options for configuring this instance of CobrowseAPI. |

#### Overrides

EventEmitter.constructor

## Accessors

### <a id="api" name="api"></a> api

• `get` **api**(): `string`

The url for the Cobrowse instance.

#### Returns

`string`

___

### <a id="devices" name="devices"></a> devices

• `get` **devices**(): [`DevicesAPI`](../interfaces/DevicesAPI.md)

Namespace API for devices. A device in Cobrowse is how a single instance of an app or website is tracked by Cobrowse.

#### Returns

[`DevicesAPI`](../interfaces/DevicesAPI.md)

___

### <a id="license" name="license"></a> license

• `get` **license**(): `string`

The license key for the Cobrowse account. This uniquely identifies your account within Cobrowse, you may
choose to have different license keys for development, test, and production environments.

#### Returns

`string`

• `set` **license**(`license`): `void`

The license key for the Cobrowse account. This uniquely identifies your account within Cobrowse, you may
choose to have different license keys for development, test, and production environments.

#### Parameters

| Name | Type |
| :------ | :------ |
| `license` | `string` |

#### Returns

`void`

___

### <a id="recordings" name="recordings"></a> recordings

• `get` **recordings**(): [`SessionRecordingAPI`](../interfaces/SessionRecordingAPI.md)

Namespace API for recordings. A recording in Cobrowse represents the video and event metadata for a recorded session.

#### Returns

[`SessionRecordingAPI`](../interfaces/SessionRecordingAPI.md)

___

### <a id="sessions" name="sessions"></a> sessions

• `get` **sessions**(): [`SessionsAPI`](../interfaces/SessionsAPI.md)

Namespace API for sessions. A session in Cobrowse represents a single screensharing activity with an agent.

#### Returns

[`SessionsAPI`](../interfaces/SessionsAPI.md)

___

### <a id="token" name="token"></a> token

• `get` **token**(): `string`

The [JWT](https://docs.cobrowse.io/agent-side-integrations/json-web-tokens-jwts) for API authorization.
This token should be securely generated by your backend to authorize use of the Cobrowse APIs.

#### Returns

`string`

• `set` **token**(`token`): `void`

The [JWT](https://docs.cobrowse.io/agent-side-integrations/json-web-tokens-jwts) for API authorization.
This token should be securely generated by your backend to authorize use of the Cobrowse APIs.

#### Parameters

| Name | Type |
| :------ | :------ |
| `token` | `string` |

#### Returns

`void`

___

### <a id="users" name="users"></a> users

• `get` **users**(): [`UsersAPI`](../interfaces/UsersAPI.md)

Namespace API for users.

#### Returns

[`UsersAPI`](../interfaces/UsersAPI.md)

## Methods

### <a id="attachcontext" name="attachcontext"></a> attachContext

▸ **attachContext**(`target`): `Promise`<[`RemoteContext`](../interfaces/RemoteContext.md)\>

Attach the agent context to an iframe; no JWT is required to use these APIs.
The returned context allows you to control certain elements within the iframe hosting
the screenshare. For example, you may switch the active agent tool being used, change the
session into a "full device" mode session, or just subscribe to changes in the session parameters.

```javascript
const cobrowse = new CobrowseAPI()
const frameEl = document.getElementById('myIframe')
const ctx = await cobrowse.attachContext(frameEl)

ctx.on('session.updated', (session) => {
  console.log('session was updated', session)
})
```

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `target` | `HTMLIFrameElement` | An iframe element. |

#### Returns

`Promise`<[`RemoteContext`](../interfaces/RemoteContext.md)\>

- The context returns contains methods specific to controlling the iframe
