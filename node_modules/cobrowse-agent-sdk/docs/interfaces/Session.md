# Interface: Session

Represents a session in Cobrowse.

### Events

**`fires`** updated - fired when a session property changes

**`fires`** ended - fired when a session transitions to the `ended` state

## Hierarchy

- `EventEmitter`

  ↳ **`Session`**

## Properties

### <a id="activated" name="activated"></a> activated

• **activated**: `Date`

The activation timestamp of the session. This is the time the user accepted the session.

___

### <a id="agent" name="agent"></a> agent

• **agent**: `Object`

Metadata about the agent that started the session

#### Type declaration

| Name | Type |
| :------ | :------ |
| `colour` | `string` |
| `id` | `string` |
| `name` | `string` |

___

### <a id="code" name="code"></a> code

• **code**: `string`

A 6 digit, human friendly code that can be used to initiate a session

___

### <a id="created" name="created"></a> created

• **created**: `Date`

The date the session was first created (this will usually be before the `activated` timestamp).

___

### <a id="custom_data" name="custom_data"></a> custom\_data

• **custom\_data**: `Record`<`string`, `any`\>

The metadata you have associated with this session for discoverability and filtering by agents.

___

### <a id="device" name="device"></a> device

• **device**: [`DeviceInfo`](DeviceInfo.md)

Metadata about the user's device

___

### <a id="ended" name="ended"></a> ended

• **ended**: `Date`

The timestamp the session was ended

___

### <a id="full_device" name="full_device"></a> full\_device

• **full\_device**: ``"off"`` \| ``"requested"`` \| ``"on"`` \| ``"rejected"``

The state of the full device mode

___

### <a id="id" name="id"></a> id

• **id**: `string`

The unique ID for this screenshare session

___

### <a id="recorded" name="recorded"></a> recorded

• **recorded**: `boolean`

Was the session recorded

___

### <a id="remote_control" name="remote_control"></a> remote\_control

• **remote\_control**: ``"off"`` \| ``"requested"`` \| ``"on"`` \| ``"rejected"``

The state of the remote control authorization for the session

___

### <a id="state" name="state"></a> state

• **state**: ``"pending"`` \| ``"authorizing"`` \| ``"active"`` \| ``"ended"``

The current state of the session. A session will progress through its lifecycle in
this order: `pending` → (`authorizing` →) `active` → `ended`. Only session that require
user consent will enter the `authorizing` state.

___

### <a id="updated" name="updated"></a> updated

• **updated**: `Date`

The timestamp of the last update to the session

## Methods

### <a id="end" name="end"></a> end

▸ **end**(): `Promise`<`void`\>

Ends this session.

#### Returns

`Promise`<`void`\>

___

### <a id="isactive" name="isactive"></a> isActive

▸ **isActive**(): `boolean`

True if the session is active. An active session is one where the user has accepted
the screen share if required and frame are streaming to the agent

#### Returns

`boolean`

___

### <a id="isauthorizing" name="isauthorizing"></a> isAuthorizing

▸ **isAuthorizing**(): `boolean`

True if the session is authorizing. An authorizing session is one where the user has
been presented with a consent dialog but has not yet agreed.

#### Returns

`boolean`

___

### <a id="isended" name="isended"></a> isEnded

▸ **isEnded**(): `boolean`

True if the session is ended.

#### Returns

`boolean`

___

### <a id="ispending" name="ispending"></a> isPending

▸ **isPending**(): `boolean`

True if the session is pending. A pending session is the inital state, waiting for
either a device or agent to join

#### Returns

`boolean`

___

### <a id="on" name="on"></a> on

▸ **on**(`event`, `listener`): [`Session`](Session.md)

Listen for events on this session.

#### Parameters

| Name | Type |
| :------ | :------ |
| `event` | ``"ended"`` |
| `listener` | (`session`: [`Session`](Session.md)) => `void` |

#### Returns

[`Session`](Session.md)

#### Overrides

EventEmitter.on

▸ **on**(`event`, `listener`): [`Session`](Session.md)

#### Parameters

| Name | Type |
| :------ | :------ |
| `event` | ``"updated"`` |
| `listener` | (`session`: [`Session`](Session.md)) => `void` |

#### Returns

[`Session`](Session.md)

#### Overrides

EventEmitter.on

___

### <a id="setfulldevice" name="setfulldevice"></a> setFullDevice

▸ **setFullDevice**(`state`): `Promise`<`boolean`\>

Set the current state of the session full-device mode. A full device session enables
the agent to capture all screens of the user's device, not just those inside your app
or website. Initiates request or ends full-device mode. The user must approve when switching
to full device mode.

#### Parameters

| Name | Type |
| :------ | :------ |
| `state` | ``"off"`` \| ``"requested"`` |

#### Returns

`Promise`<`boolean`\>

___

### <a id="setremotecontrol" name="setremotecontrol"></a> setRemoteControl

▸ **setRemoteControl**(`state`): `Promise`<`void`\>

Set the current state of remote control, allowing the agent to request remote control of
the user's device. Initiate or end remote control.
Note: The agent may not set the remote control state to `on` directly, they can only
set it to `requested` and the user must approve if required.

#### Parameters

| Name | Type |
| :------ | :------ |
| `state` | ``"off"`` \| ``"requested"`` \| ``"on"`` \| ``"rejected"`` |

#### Returns

`Promise`<`void`\>

___

### <a id="subscribe" name="subscribe"></a> subscribe

▸ **subscribe**(): `Promise`<`void`\>

Subscribe to changes in this session. Note: this is a browser only method and will not work from a NodeJS environment

#### Returns

`Promise`<`void`\>

___

### <a id="tojson" name="tojson"></a> toJSON

▸ **toJSON**(): [`Session`](Session.md)

Converts this session instance to a plain object.

#### Returns

[`Session`](Session.md)

___

### <a id="unsubscribe" name="unsubscribe"></a> unsubscribe

▸ **unsubscribe**(): `void`

Unsubscribe from this session. Note: this is a browser only method and will not work from a NodeJS environment

#### Returns

`void`
